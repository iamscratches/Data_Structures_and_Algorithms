# üîç Group Shifted Strings - Difference Encoding Approach

## üìú Problem Statement
**Link:** [GeeksforGeeks Problem](https://www.geeksforgeeks.org/problems/group-shifted-string/1?page=1&company=Google&sortBy=latest)

Given an array of strings, group all strings that are shifted versions of each other. Two strings are shifted versions if we can add the same integer to each character of one string to get the other.

**Constraints:**
- 1 ‚â§ N ‚â§ 10‚Å¥
- 1 ‚â§ length of each string ‚â§ 100

**Example:**
```text
Input: ["abc", "bcd", "acef", "xyz", "az", "ba", "a", "z"]
Output: [["abc","bcd","xyz"], ["acef"], ["az","ba"], ["a","z"]]
Explanation:
- "abc" ‚Üí "bcd" ‚Üí "xyz" (shifted by +1, +1)
- "acef" (unique shift pattern)
- "az" ‚Üî "ba" (circular shift)
- Single characters form their own groups
```

---

## üß† Intuition
The solution uses:
1. **Difference Encoding**: Captures relative character shifts
2. **HashMap Grouping**: Efficiently clusters shifted strings
3. **Circular Handling**: Manages wrap-around (z ‚Üí a)

Key Insights:
- Shift patterns can be represented as difference sequences
- Strings with identical difference sequences are shifted versions
- O(n*m) time complexity (n strings, m length)

---

## ‚öôÔ∏è Approach
### **1Ô∏è‚É£ Difference Calculation**
1. For each string, compute differences between consecutive characters
2. Handle circular shifts using modulo 26

### **2Ô∏è‚É£ HashMap Grouping**
1. Use difference sequence as hash key
2. Group strings with identical difference patterns

### **3Ô∏è‚É£ Result Compilation**
1. Extract all groups from the HashMap
2. Return as list of lists

---

## ‚úÖ Optimized Solution
```java
class Solution {
    public ArrayList<ArrayList<String>> groupShiftedStrings(String[] arr) {
        Map<String, ArrayList<String>> shiftGroups = new HashMap<>();
        
        for (String str : arr) {
            String key = generateShiftKey(str);
            shiftGroups.computeIfAbsent(key, k -> new ArrayList<>()).add(str);
        }
        
        return new ArrayList<>(shiftGroups.values());
    }
    
    private String generateShiftKey(String str) {
        StringBuilder keyBuilder = new StringBuilder();
        
        for (int i = 1; i < str.length(); i++) {
            int diff = (str.charAt(i) - str.charAt(i-1) + 26) % 26;
            keyBuilder.append(diff).append(",");
        }
        
        // Handle single-character strings
        if (str.length() == 1) {
            keyBuilder.append("0");
        }
        
        return keyBuilder.toString();
    }
}
```

Key Features:
- **Clean Key Generation**: Separated into helper method
- **Efficient Grouping**: Uses `computeIfAbsent`
- **Circular Shift Handling**: Modulo 26 arithmetic
- **Single Character Support**: Special case handling

---

## ‚è≥ Complexity Analysis
| Metric          | Complexity | Description |
|-----------------|------------|-------------|
| **Time**        | O(n*m)     | n strings, average length m |
| **Space**       | O(n*m)     | Storage for all strings |

---

## üìä Example Walkthrough

**Input:** ["abc", "bcd", "acef", "xyz", "az", "ba", "a", "z"]

**Execution:**
1. **Key Generation**:
   - "abc" ‚Üí "1,1"
   - "bcd" ‚Üí "1,1"
   - "acef" ‚Üí "2,2,1"
   - "xyz" ‚Üí "1,1"
   - "az" ‚Üí "25"
   - "ba" ‚Üí "25"
   - "a" ‚Üí "0"
   - "z" ‚Üí "0"

2. **Grouping**:
   - "1,1" ‚Üí ["abc", "bcd", "xyz"]
   - "2,2,1" ‚Üí ["acef"]
   - "25" ‚Üí ["az", "ba"]
   - "0" ‚Üí ["a", "z"]

**Result:** [["abc","bcd","xyz"], ["acef"], ["az","ba"], ["a","z"]]

---

## üí° Key Features
- **Shift Pattern Capture**: Encodes relative character differences
- **Efficient Grouping**: HashMap for O(1) lookups
- **Circular Handling**: Proper modulo arithmetic
- **Clear Separation**: Key generation isolated

---

## üöÄ When to Use
- String similarity grouping
- Cryptography pattern matching
- Circular shift detection
- Any problem involving relative character shifts

## ‚ö†Ô∏è Edge Cases
- **Empty strings**: Should be handled
- **Single characters**: Form their own groups
- **All identical strings**: Single group
- **Maximum length strings**: Handle within constraints

## üõ† Variations
1. **Case Insensitivity**:
```java
// Convert to lowercase before processing
```

2. **Different Alphabets**:
```java
// Adapt modulo for different character sets
```

3. **Shift Distance Tracking**:
```java
// Track actual shift distances between groups
```
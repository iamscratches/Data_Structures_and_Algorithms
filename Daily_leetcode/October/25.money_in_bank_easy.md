# 💰 Calculate Money in Leetcode Bank - Mathematical Formula Approach

## 📜 Problem Statement
**Link:** [LeetCode Problem](https://leetcode.com/problems/calculate-money-in-leetcode-bank/description/?envType=daily-question&envId=2025-10-25)

Given:
- You put money in the Leetcode bank every day
- Starting Monday: $1, Tuesday: $2, ..., Sunday: $7
- Every subsequent Monday, you put in $1 more than the previous Monday

Find:
- The total amount of money after `n` days

**Deposit Rules:**
- Week 1: 1, 2, 3, 4, 5, 6, 7
- Week 2: 2, 3, 4, 5, 6, 7, 8  
- Week 3: 3, 4, 5, 6, 7, 8, 9
- And so on...

**Constraints:**
- `1 <= n <= 1000`

**Examples:**
```text
Input: n = 4
Output: 10
Explanation: Day 1: 1, Day 2: 2, Day 3: 3, Day 4: 4 → Total = 1+2+3+4 = 10

Input: n = 10
Output: 37
Explanation: 
Week 1: 1+2+3+4+5+6+7 = 28
Week 2: 2+3+4 = 9
Total = 28 + 9 = 37

Input: n = 20
Output: 96
Explanation:
Week 1: 28
Week 2: 2+3+4+5+6+7+8 = 35  
Week 3: 3+4+5+6 = 18
Total = 28 + 35 + 18 = 81? Wait, let's calculate properly...
Actually: 28 + 35 + 18 = 81, but the answer is 96.
Let me recalculate Week 2: 2+3+4+5+6+7+8 = 35 ✓
Week 3: 3+4+5+6+7+8+9 = 42
So 28 + 35 + 42 = 105? I'm confused.

Wait, for n=20:
Days 1-7: 1+2+3+4+5+6+7 = 28
Days 8-14: 2+3+4+5+6+7+8 = 35  
Days 15-20: 3+4+5+6+7+8 = 33
Total = 28 + 35 + 33 = 96 ✓
```

## 🧠 Intuition
The solution uses:
1. **Mathematical Formulas**: Break down into complete weeks and remaining days
2. **Arithmetic Progressions**: Use sum formulas for sequences
3. **Week-based Calculation**: Separate complete weeks from partial week
4. **Efficient Computation**: O(1) time using mathematical formulas

Key Insights:
- Complete weeks form arithmetic sequences
- Each week increases the base amount by 1
- Remaining days continue the pattern from the next week
- Can be computed with closed-form formulas

## ⚙️ Approach
1. **Calculate Complete Weeks**:
   - `weeks = n / 7`
   - Each complete week contributes: base sum + weekly increment

2. **Calculate Remaining Days**:
   - `remainingDays = n % 7`
   - Continue from where the last complete week left off

3. **Mathematical Formulas**:
   - Complete weeks sum: `28*weeks + 7*(weeks-1)*weeks/2`
   - Remaining days sum: `weeks*remainingDays + remainingDays*(remainingDays+1)/2`

## ✅ Optimized Solution
```java
class Solution {
    public int totalMoney(int n) {
        int weeks = n / 7;
        int remainingDays = n % 7;
        
        // Sum for complete weeks
        int completeWeeksSum = 28 * weeks + (7 * (weeks - 1) * weeks) / 2;
        
        // Sum for remaining days
        int remainingDaysSum = weeks * remainingDays + (remainingDays * (remainingDays + 1)) / 2;
        
        return completeWeeksSum + remainingDaysSum;
    }
}
```

## ⏳ Complexity Analysis
| Metric          | Complexity | Description |
|-----------------|------------|-------------|
| **Time**        | O(1)       | Direct mathematical computation |
| **Space**       | O(1)       | Only a few integer variables |

## 📊 Formula Derivation

### Complete Weeks Sum:
- Week 1 sum: 1+2+3+4+5+6+7 = 28
- Week 2 sum: 2+3+4+5+6+7+8 = 28 + 7×1
- Week 3 sum: 3+4+5+6+7+8+9 = 28 + 7×2
- Week k sum: 28 + 7×(k-1)

**Total for w weeks:**
```
= Σ[28 + 7×(k-1)] for k=1 to w
= 28w + 7 × Σ(k-1) for k=1 to w
= 28w + 7 × [0 + 1 + 2 + ... + (w-1)]
= 28w + 7 × (w-1)w/2
```

### Remaining Days Sum:
If we have r remaining days in week (w+1):
- Day 1: (w+1)
- Day 2: (w+2)
- ...
- Day r: (w+r)

**Sum of remaining days:**
```
= Σ(w + i) for i=1 to r
= w×r + Σi for i=1 to r
= w×r + r(r+1)/2
```

## 📊 Example Walkthrough
**Input:** n = 20

**Calculation:**
- `weeks = 20 / 7 = 2`
- `remainingDays = 20 % 7 = 6`

**Complete weeks sum:**
```
= 28×2 + 7×(2-1)×2/2
= 56 + 7×1×2/2
= 56 + 7 = 63
```

**Remaining days sum:**
```
= 2×6 + 6×7/2
= 12 + 21 = 33
```

**Total:** 63 + 33 = 96 ✓

**Another Example:** n = 10
- `weeks = 10 / 7 = 1`
- `remainingDays = 10 % 7 = 3`
- Complete weeks: `28×1 + 7×(1-1)×1/2 = 28 + 0 = 28`
- Remaining days: `1×3 + 3×4/2 = 3 + 6 = 9`
- Total: 28 + 9 = 37 ✓

## 💡 Key Features
- **Mathematical Efficiency**: O(1) time complexity
- **Formula Derivation**: Based on arithmetic progression properties
- **No Iteration**: Avoids looping through each day
- **Integer Arithmetic**: No floating point operations

## 🚀 When to Use
- Problems with repeating patterns or sequences
- Arithmetic progression problems
- When mathematical formulas can replace iteration
- Optimization problems where O(1) solution is possible

## ⚠️ Edge Cases
- **n = 1**: Single day
- **n = 7**: Exactly one week
- **n = 8**: One week plus one day
- **n = 1000**: Maximum constraint

## 🛠 Variations
1. **Iterative Approach**:
```java
public int totalMoney(int n) {
    int total = 0;
    int week = 0;
    for (int day = 1; day <= n; day++) {
        int dayOfWeek = (day - 1) % 7;
        if (dayOfWeek == 0) week++;
        total += week + dayOfWeek;
    }
    return total;
}
```

2. **Recursive Approach**:
```java
public int totalMoney(int n) {
    if (n <= 7) return n * (n + 1) / 2;
    return 28 + (n - 7) + totalMoney(n - 7);
}
```

## Mathematical Insight
The solution leverages:
- **Arithmetic Progression**: Weekly sums form an AP
- **Triangular Numbers**: Sum of first k natural numbers
- **Modular Arithmetic**: Pattern repeats every 7 days
- **Closed-form Solutions**: Direct computation without iteration

## Performance Comparison
| Approach | Time Complexity | Space | Best For |
|----------|----------------|--------|----------|
| **Mathematical** | O(1) | O(1) | Optimal |
| **Iterative** | O(n) | O(1) | Readable |
| **Recursive** | O(n) | O(n) | Educational |

The mathematical approach is optimal for this problem as it directly computes the result using derived formulas, avoiding any iteration and providing constant time complexity regardless of input size.